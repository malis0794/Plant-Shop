{"ast":null,"code":"var _jsxFileName = \"/Users/ali/Documents/bootcamp/Plant-Shop/src/pages/checkout.jsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$(),\n    _s4 = $RefreshSig$();\n\nimport React, { useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport classNames from \"classnames\";\nimport { CheckoutStateContext, CheckoutDispatchContext, CHECKOUT_STEPS, setCheckoutStep, saveShippingAddress } from \"contexts/checkout\";\nimport { CartStateContext } from \"contexts/cart\";\nimport { AuthStateContext, AuthDispatchContext, signOut } from \"contexts/auth\";\nimport { Formik, Form, Field } from \"formik\";\nimport * as Yup from \"yup\";\nimport _get from \"lodash.get\";\nimport Input from \"components/core/form-controls/Input\";\nimport { phoneRegExp } from \"constants/common\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AddressSchema = Yup.object().shape({\n  fullName: Yup.string().required(\"Full Name is required\"),\n  phoneNumber: Yup.string().required(\"Phone Number is required\").matches(phoneRegExp, \"Phone Number is not a valid 10 digit number\").min(10, \"Phone Number is too short\").max(10, \"Phone Number is too long\"),\n  addressLine: Yup.string().required(\"Door No. & Street is required!\"),\n  city: Yup.string().required(\"City is required!\"),\n  state: Yup.string().required(\"State is required!\"),\n  code: Yup.string().required(\"ZIP/Postal code is required!\"),\n  country: Yup.string().required(\"Country is required!\")\n});\n\nconst LoginStep = () => {\n  _s();\n\n  const history = useHistory();\n  const {\n    user,\n    isLoggedIn\n  } = useContext(AuthStateContext);\n  const authDispatch = useContext(AuthDispatchContext);\n  const checkoutDispatch = useContext(CheckoutDispatchContext);\n\n  const handleContinueShopping = () => {\n    history.push(\"/\");\n  };\n\n  const handleLoginAsDiffUser = () => {\n    signOut(authDispatch);\n    history.push(\"/auth\");\n  };\n\n  const handleGotoLogin = () => {\n    history.push(\"/auth\");\n  };\n\n  const handleProceed = () => {\n    setCheckoutStep(checkoutDispatch, CHECKOUT_STEPS.SHIPPING);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"detail-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Sign In now!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"auth-message\",\n      children: isLoggedIn ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Logged in as \", /*#__PURE__*/_jsxDEV(\"span\", {\n            children: user.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 28\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleLoginAsDiffUser(),\n          children: \"Login as Different User\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Please login to continue.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleGotoLogin(),\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"actions\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"outline\",\n        onClick: () => handleContinueShopping(),\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"rsc-icon-arrow_back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), \" Continue Shopping\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        disabled: !isLoggedIn,\n        onClick: () => handleProceed(),\n        children: [\"Proceed\", /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"rsc-icon-arrow_forward\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n\n_s(LoginStep, \"+OG7vldctf4F7Zwd5Ge4hnf5F3k=\", false, function () {\n  return [useHistory];\n});\n\n_c = LoginStep;\n\nconst AddressStep = () => {\n  _s2();\n\n  const checkoutDispatch = useContext(CheckoutDispatchContext);\n\n  const handleBackToLogin = () => {\n    setCheckoutStep(checkoutDispatch, CHECKOUT_STEPS.AUTH);\n  };\n\n  const handleSaveAddress = addressData => {\n    saveShippingAddress(checkoutDispatch, addressData);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"detail-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Shipping Address\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Formik, {\n      initialValues: {\n        fullName: \"John Doe\",\n        phoneNumber: \"5552229876\",\n        addressLine: \"L1, Palm Residency\",\n        city: \"Kingston\",\n        state: \"New York\",\n        code: \"12401\",\n        country: \"United States\"\n      },\n      validationSchema: AddressSchema,\n      onSubmit: async (values, _ref) => {\n        let {\n          resetForm\n        } = _ref;\n\n        try {\n          const addressData = { ...values\n          };\n          resetForm();\n          handleSaveAddress(addressData);\n        } catch (err) {\n          console.error(err);\n        }\n      },\n      children: () => /*#__PURE__*/_jsxDEV(Form, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"field-group\",\n          children: [/*#__PURE__*/_jsxDEV(Field, {\n            name: \"fullName\",\n            type: \"text\",\n            placeholder: \"Full Name\",\n            component: Input\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Field, {\n            name: \"phoneNumber\",\n            type: \"text\",\n            placeholder: \"Phone Number\",\n            component: Input\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Field, {\n          name: \"addressLine\",\n          type: \"text\",\n          placeholder: \"Door No. & Street\",\n          component: Input\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"field-group\",\n          children: [/*#__PURE__*/_jsxDEV(Field, {\n            name: \"city\",\n            type: \"text\",\n            placeholder: \"City\",\n            component: Input\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Field, {\n            name: \"state\",\n            type: \"text\",\n            placeholder: \"State\",\n            component: Input\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"field-group\",\n          children: [/*#__PURE__*/_jsxDEV(Field, {\n            name: \"code\",\n            type: \"text\",\n            placeholder: \"ZIP/Postal Code\",\n            component: Input\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Field, {\n            name: \"country\",\n            type: \"text\",\n            placeholder: \"Country\",\n            component: Input\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"outline\",\n            onClick: () => handleBackToLogin(),\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"rsc-icon-arrow_back\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 17\n            }, this), \" Login in as Different User\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: [\"Save Address\", /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"rsc-icon-arrow_forward\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(AddressStep, \"BfZ2HSB12Zb0VGnA5vs3WOG0x7Y=\");\n\n_c2 = AddressStep;\n\nconst PaymentStep = () => {\n  _s3();\n\n  const {\n    shippingAddress\n  } = useContext(CheckoutStateContext);\n  const checkoutDispatch = useContext(CheckoutDispatchContext);\n\n  const handleBackToAddress = () => {\n    setCheckoutStep(checkoutDispatch, CHECKOUT_STEPS.SHIPPING);\n  };\n\n  const handlePayment = () => {};\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"detail-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Payment\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"actions\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"outline\",\n        onClick: () => handleBackToAddress(),\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"rsc-icon-arrow_back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this), \" Back to Shipping Details\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        disabled: !shippingAddress,\n        onClick: () => handlePayment(),\n        children: [\"Save Address\", /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"rsc-icon-arrow_forward\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 195,\n    columnNumber: 5\n  }, this);\n};\n\n_s3(PaymentStep, \"Wzixl2gMYEQOAODK875ftV90LbY=\");\n\n_c3 = PaymentStep;\n\nconst Checkout = () => {\n  _s4();\n\n  const {\n    items = []\n  } = useContext(CartStateContext);\n  const {\n    isLoggedIn\n  } = useContext(AuthStateContext);\n  const {\n    step,\n    shippingAddress\n  } = useContext(CheckoutStateContext);\n  const checkoutDispatch = useContext(CheckoutDispatchContext);\n  const totalItems = items.length;\n\n  const handleClickTimeline = nextStep => {\n    setCheckoutStep(checkoutDispatch, nextStep);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"checkout-page\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"order-details\",\n        children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"timeline\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            className: classNames({\n              done: isLoggedIn,\n              active: step === CHECKOUT_STEPS.AUTH\n            }),\n            onClick: () => handleClickTimeline(CHECKOUT_STEPS.AUTH),\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Sign In\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"rsc-icon-check_circle\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: classNames({\n              done: shippingAddress !== null,\n              active: step === CHECKOUT_STEPS.SHIPPING\n            }),\n            onClick: () => handleClickTimeline(CHECKOUT_STEPS.SHIPPING),\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Shipping\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"rsc-icon-check_circle\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: classNames({\n              done: false,\n              active: step === CHECKOUT_STEPS.PAYMENT\n            }),\n            onClick: () => handleClickTimeline(CHECKOUT_STEPS.PAYMENT),\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Payment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"rsc-icon-check_circle\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this), step === CHECKOUT_STEPS.AUTH && /*#__PURE__*/_jsxDEV(LoginStep, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 44\n        }, this), step === CHECKOUT_STEPS.SHIPPING && /*#__PURE__*/_jsxDEV(AddressStep, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 48\n        }, this), step === CHECKOUT_STEPS.PAYMENT && /*#__PURE__*/_jsxDEV(PaymentStep, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 47\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"order-summary\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Summary\", /*#__PURE__*/_jsxDEV(\"span\", {\n            children: ` (${totalItems}) Items`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"cart-items\",\n          children: items.map(product => {\n            return /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"cart-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"product-image\",\n                src: product.image\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"product-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"product-name\",\n                  children: product.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 279,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"product-price\",\n                  children: product.price\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 280,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"product-total\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"quantity\",\n                  children: `${product.quantity} ${product.quantity > 1 ? \"No.\" : \"No.\"}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"amount\",\n                  children: product.quantity * product.price\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 288,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 19\n              }, this)]\n            }, product.name, true, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"total-breakup\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Subtotal\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"5000\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Tax\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"5000\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Shipping\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"5000\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Total\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"5000\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 229,\n    columnNumber: 5\n  }, this);\n};\n\n_s4(Checkout, \"qPFmHFqaYacDAo8IfUuOmf6yOTA=\");\n\n_c4 = Checkout;\nexport default Checkout;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"LoginStep\");\n$RefreshReg$(_c2, \"AddressStep\");\n$RefreshReg$(_c3, \"PaymentStep\");\n$RefreshReg$(_c4, \"Checkout\");","map":{"version":3,"sources":["/Users/ali/Documents/bootcamp/Plant-Shop/src/pages/checkout.jsx"],"names":["React","useContext","useHistory","classNames","CheckoutStateContext","CheckoutDispatchContext","CHECKOUT_STEPS","setCheckoutStep","saveShippingAddress","CartStateContext","AuthStateContext","AuthDispatchContext","signOut","Formik","Form","Field","Yup","_get","Input","phoneRegExp","AddressSchema","object","shape","fullName","string","required","phoneNumber","matches","min","max","addressLine","city","state","code","country","LoginStep","history","user","isLoggedIn","authDispatch","checkoutDispatch","handleContinueShopping","push","handleLoginAsDiffUser","handleGotoLogin","handleProceed","SHIPPING","username","AddressStep","handleBackToLogin","AUTH","handleSaveAddress","addressData","values","resetForm","err","console","error","PaymentStep","shippingAddress","handleBackToAddress","handlePayment","Checkout","items","step","totalItems","length","handleClickTimeline","nextStep","done","active","PAYMENT","map","product","image","name","price","quantity"],"mappings":"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","sourcesContent":["import React, { useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport classNames from \"classnames\";\nimport {\n  CheckoutStateContext,\n  CheckoutDispatchContext,\n  CHECKOUT_STEPS,\n  setCheckoutStep,\n  saveShippingAddress\n} from \"contexts/checkout\";\nimport { CartStateContext } from \"contexts/cart\";\nimport { AuthStateContext, AuthDispatchContext, signOut } from \"contexts/auth\";\nimport { Formik, Form, Field } from \"formik\";\nimport * as Yup from \"yup\";\nimport _get from \"lodash.get\";\nimport Input from \"components/core/form-controls/Input\";\nimport { phoneRegExp } from \"constants/common\";\n\nconst AddressSchema = Yup.object().shape({\n  fullName: Yup.string().required(\"Full Name is required\"),\n  phoneNumber: Yup.string()\n    .required(\"Phone Number is required\")\n    .matches(phoneRegExp, \"Phone Number is not a valid 10 digit number\")\n    .min(10, \"Phone Number is too short\")\n    .max(10, \"Phone Number is too long\"),\n  addressLine: Yup.string().required(\"Door No. & Street is required!\"),\n  city: Yup.string().required(\"City is required!\"),\n  state: Yup.string().required(\"State is required!\"),\n  code: Yup.string().required(\"ZIP/Postal code is required!\"),\n  country: Yup.string().required(\"Country is required!\")\n});\n\nconst LoginStep = () => {\n  const history = useHistory();\n  const { user, isLoggedIn } = useContext(AuthStateContext);\n  const authDispatch = useContext(AuthDispatchContext);\n  const checkoutDispatch = useContext(CheckoutDispatchContext);\n  const handleContinueShopping = () => {\n    history.push(\"/\");\n  };\n  const handleLoginAsDiffUser = () => {\n    signOut(authDispatch);\n    history.push(\"/auth\");\n  };\n  const handleGotoLogin = () => {\n    history.push(\"/auth\");\n  };\n  const handleProceed = () => {\n    setCheckoutStep(checkoutDispatch, CHECKOUT_STEPS.SHIPPING);\n  };\n  return (\n    <div className=\"detail-container\">\n      <h2>Sign In now!</h2>\n      <div className=\"auth-message\">\n        {isLoggedIn ? (\n          <>\n            <p>\n              Logged in as <span>{user.username}</span>\n            </p>\n            <button onClick={() => handleLoginAsDiffUser()}>\n              Login as Different User\n            </button>\n          </>\n        ) : (\n          <>\n            <p>Please login to continue.</p>\n            <button onClick={() => handleGotoLogin()}>Login</button>\n          </>\n        )}\n      </div>\n      <div className=\"actions\">\n        <button className=\"outline\" onClick={() => handleContinueShopping()}>\n          <i className=\"rsc-icon-arrow_back\" /> Continue Shopping\n        </button>\n        <button disabled={!isLoggedIn} onClick={() => handleProceed()}>\n          Proceed\n          <i className=\"rsc-icon-arrow_forward\" />\n        </button>\n      </div>\n    </div>\n  );\n};\n\nconst AddressStep = () => {\n  const checkoutDispatch = useContext(CheckoutDispatchContext);\n\n  const handleBackToLogin = () => {\n    setCheckoutStep(checkoutDispatch, CHECKOUT_STEPS.AUTH);\n  };\n  const handleSaveAddress = (addressData) => {\n    saveShippingAddress(checkoutDispatch, addressData);\n  };\n  return (\n    <div className=\"detail-container\">\n      <h2>Shipping Address</h2>\n      <Formik\n        initialValues={{\n          fullName: \"John Doe\",\n          phoneNumber: \"5552229876\",\n          addressLine: \"L1, Palm Residency\",\n          city: \"Kingston\",\n          state: \"New York\",\n          code: \"12401\",\n          country: \"United States\"\n        }}\n        validationSchema={AddressSchema}\n        onSubmit={async (values, { resetForm }) => {\n          try {\n            const addressData = { ...values };\n            resetForm();\n            handleSaveAddress(addressData);\n          } catch (err) {\n            console.error(err);\n          }\n        }}\n      >\n        {() => (\n          <Form>\n            <div className=\"field-group\">\n              <Field\n                name=\"fullName\"\n                type=\"text\"\n                placeholder=\"Full Name\"\n                component={Input}\n              />\n              <Field\n                name=\"phoneNumber\"\n                type=\"text\"\n                placeholder=\"Phone Number\"\n                component={Input}\n              />\n            </div>\n            <Field\n              name=\"addressLine\"\n              type=\"text\"\n              placeholder=\"Door No. & Street\"\n              component={Input}\n            />\n            <div className=\"field-group\">\n              <Field\n                name=\"city\"\n                type=\"text\"\n                placeholder=\"City\"\n                component={Input}\n              />\n              <Field\n                name=\"state\"\n                type=\"text\"\n                placeholder=\"State\"\n                component={Input}\n              />\n            </div>\n            <div className=\"field-group\">\n              <Field\n                name=\"code\"\n                type=\"text\"\n                placeholder=\"ZIP/Postal Code\"\n                component={Input}\n              />\n              <Field\n                name=\"country\"\n                type=\"text\"\n                placeholder=\"Country\"\n                component={Input}\n              />\n            </div>\n            <div className=\"actions\">\n              <button\n                type=\"button\"\n                className=\"outline\"\n                onClick={() => handleBackToLogin()}\n              >\n                <i className=\"rsc-icon-arrow_back\" /> Login in as Different User\n              </button>\n              <button type=\"submit\">\n                Save Address\n                <i className=\"rsc-icon-arrow_forward\" />\n              </button>\n            </div>\n          </Form>\n        )}\n      </Formik>\n    </div>\n  );\n};\n\nconst PaymentStep = () => {\n  const { shippingAddress } = useContext(CheckoutStateContext);\n  const checkoutDispatch = useContext(CheckoutDispatchContext);\n  const handleBackToAddress = () => {\n    setCheckoutStep(checkoutDispatch, CHECKOUT_STEPS.SHIPPING);\n  };\n  const handlePayment = () => {};\n  return (\n    <div className=\"detail-container\">\n      <h2>Payment</h2>\n      {/* <div>\n        <pre>{JSON.stringify(shippingAddress, null, 0)}</pre>\n      </div> */}\n      <div className=\"actions\">\n        <button\n          type=\"button\"\n          className=\"outline\"\n          onClick={() => handleBackToAddress()}\n        >\n          <i className=\"rsc-icon-arrow_back\" /> Back to Shipping Details\n        </button>\n        <button disabled={!shippingAddress} onClick={() => handlePayment()}>\n          Save Address\n          <i className=\"rsc-icon-arrow_forward\" />\n        </button>\n      </div>\n    </div>\n  );\n};\n\nconst Checkout = () => {\n  const { items = [] } = useContext(CartStateContext);\n  const { isLoggedIn } = useContext(AuthStateContext);\n  const { step, shippingAddress } = useContext(CheckoutStateContext);\n  const checkoutDispatch = useContext(CheckoutDispatchContext);\n  const totalItems = items.length;\n\n  const handleClickTimeline = (nextStep) => {\n    setCheckoutStep(checkoutDispatch, nextStep);\n  };\n\n  return (\n    <div className=\"checkout-page\">\n      <div className=\"container\">\n        <div className=\"order-details\">\n          <ul className=\"timeline\">\n            <li\n              className={classNames({\n                done: isLoggedIn,\n                active: step === CHECKOUT_STEPS.AUTH\n              })}\n              onClick={() => handleClickTimeline(CHECKOUT_STEPS.AUTH)}\n            >\n              <h2>Sign In</h2>\n              <i className=\"rsc-icon-check_circle\" />\n            </li>\n            <li\n              className={classNames({\n                done: shippingAddress !== null,\n                active: step === CHECKOUT_STEPS.SHIPPING\n              })}\n              onClick={() => handleClickTimeline(CHECKOUT_STEPS.SHIPPING)}\n            >\n              <h2>Shipping</h2>\n              <i className=\"rsc-icon-check_circle\" />\n            </li>\n            <li\n              className={classNames({\n                done: false,\n                active: step === CHECKOUT_STEPS.PAYMENT\n              })}\n              onClick={() => handleClickTimeline(CHECKOUT_STEPS.PAYMENT)}\n            >\n              <h2>Payment</h2>\n              <i className=\"rsc-icon-check_circle\" />\n            </li>\n          </ul>\n          {step === CHECKOUT_STEPS.AUTH && <LoginStep />}\n          {step === CHECKOUT_STEPS.SHIPPING && <AddressStep />}\n          {step === CHECKOUT_STEPS.PAYMENT && <PaymentStep />}\n        </div>\n        <div className=\"order-summary\">\n          <h2>\n            Summary\n            <span>{` (${totalItems}) Items`}</span>\n          </h2>\n          <ul className=\"cart-items\">\n            {items.map((product) => {\n              return (\n                <li className=\"cart-item\" key={product.name}>\n                  <img className=\"product-image\" src={product.image} />\n                  <div className=\"product-info\">\n                    <p className=\"product-name\">{product.name}</p>\n                    <p className=\"product-price\">{product.price}</p>\n                  </div>\n                  <div className=\"product-total\">\n                    <p className=\"quantity\">\n                      {`${product.quantity} ${\n                        product.quantity > 1 ? \"No.\" : \"No.\"\n                      }`}\n                    </p>\n                    <p className=\"amount\">{product.quantity * product.price}</p>\n                  </div>\n                </li>\n              );\n            })}\n          </ul>\n\n          <ul className=\"total-breakup\">\n            <li>\n              <p>Subtotal</p>\n              <p>5000</p>\n            </li>\n            <li>\n              <p>Tax</p>\n              <p>5000</p>\n            </li>\n            <li>\n              <p>Shipping</p>\n              <p>5000</p>\n            </li>\n            <li>\n              <h2>Total</h2>\n              <h2>5000</h2>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Checkout;\n"]},"metadata":{},"sourceType":"module"}